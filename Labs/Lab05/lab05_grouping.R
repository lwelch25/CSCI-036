## ----setup, include=FALSE-----------------------------------------------------------------------------------------
knitr::opts_chunk$set(echo = TRUE, fig.height = 3, fig.width = 5)


## ---- warning = FALSE, message = FALSE----------------------------------------------------------------------------
library(dplyr)
library(ggplot2)


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |> head()


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  summarize(avg_len = mean(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose)


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose) |>
  summarize(avg_len = mean(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose) |>
  summarize(avg_len = mean(len)) |>
  ggplot() +
    geom_bar(aes(x = dose, y = avg_len), 
             stat  = "identity",
             fill  = "blue",
             color = "white")


## -----------------------------------------------------------------------------------------------------------------
answer01 <- ToothGrowth |> 
  group_by(dose) |>
  summarize(median_len = median(len))


## -----------------------------------------------------------------------------------------------------------------
answer02 <- ToothGrowth |>
  group_by(dose) |>
  summarize(max_len = max(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose, supp) |>
  summarize(avg_len = mean(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose, supp) |>
  summarize(avg_len = mean(len)) |>
  ggplot() +
    geom_bar(aes(x = dose, y = avg_len, fill = supp), 
             stat  = "identity",
             color = "white",
             position = "dodge")


## -----------------------------------------------------------------------------------------------------------------
answer03 <- TRUE


## -----------------------------------------------------------------------------------------------------------------
answer04 <- ToothGrowth |>
  group_by(dose, supp) |>
  summarize(median_len = median(len))


## -----------------------------------------------------------------------------------------------------------------
answer05 <- c(1.0, "VC")


## -----------------------------------------------------------------------------------------------------------------
answer05 <- c(0.5, "VC")


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |> 
  summarize(n())


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |> 
  group_by(dose) |>
  summarize(n())


## -----------------------------------------------------------------------------------------------------------------
answer06 <- ToothGrowth |>
  group_by(supp) |>
  summarize(n())


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  mutate(rel_len = len / mean(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose) |>
  mutate(rel_len_by_dose = len / mean(len))


## -----------------------------------------------------------------------------------------------------------------
answer07 <- ToothGrowth |>
  group_by(dose, supp) |>
  mutate(rel_len_dose_supp = len/mean(len))


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |>
  group_by(dose) |>
  filter(len > mean(len))


## -----------------------------------------------------------------------------------------------------------------
answer08 <- 27


## -----------------------------------------------------------------------------------------------------------------
answer09 <- 29


## -----------------------------------------------------------------------------------------------------------------
ToothGrowth |> 
  group_by(dose) |> 
  arrange(desc(len)) |> 
  slice(1:2)


## -----------------------------------------------------------------------------------------------------------------
answer10 <- ToothGrowth |>
  group_by(dose) |>
  arrange(desc(len)) |>
  slice(3)

